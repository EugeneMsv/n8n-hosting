{
  "createdAt": "2025-09-28T21:29:04.986Z",
  "updatedAt": "2025-10-23T22:58:04.189Z",
  "id": "T6qKwGk8M2wBxWrS",
  "name": "LLM: text prompt handle",
  "active": false,
  "isArchived": false,
  "nodes": [
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": false,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 1
                },
                "conditions": [
                  {
                    "leftValue": "={{$json.ai_agent.provider}}",
                    "rightValue": "Anthropic",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "184646b6-3456-4898-9aa2-efcc9d48de1e"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Anthropic"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": false,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 1
                },
                "conditions": [
                  {
                    "id": "8f7bedbf-8451-4a3c-b446-9fee422ce2f4",
                    "leftValue": "={{$json.ai_agent.provider}}",
                    "rightValue": "=Google",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Google"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": false,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 1
                },
                "conditions": [
                  {
                    "id": "0b0da603-63fe-41b6-a8f5-00d5fb268279",
                    "leftValue": "={{$json.ai_agent.provider}}",
                    "rightValue": "Perplexity",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Perplexity"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": false,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 1
                },
                "conditions": [
                  {
                    "id": "bdbd7573-e74c-4679-a761-e9cea8ede055",
                    "leftValue": "={{$json.ai_agent.provider}}",
                    "rightValue": "Openrouter",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Openrouter"
            }
          ]
        },
        "options": {
          "ignoreCase": true
        }
      },
      "id": "1fe14bd4-c4e3-40ab-9c8f-8a3bec379710",
      "name": "LLM Router",
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3,
      "position": [
        -880,
        -896
      ]
    },
    {
      "parameters": {
        "workflowInputs": {
          "values": [
            {
              "name": "ai_agent",
              "type": "object"
            },
            {
              "name": "prompt"
            },
            {
              "name": "session_id"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1.1,
      "position": [
        -1504,
        -688
      ],
      "id": "b325393d-ccfc-4c9a-8d1f-ed488c345606",
      "name": "When Executed by Another Workflow",
      "retryOnFail": true,
      "notesInFlow": false,
      "alwaysOutputData": true,
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "={{ $json.ai_agent.llm }}",
          "mode": "id"
        },
        "messages": {
          "values": [
            {
              "content": "={{ $json.prompt }}"
            }
          ]
        },
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.anthropic",
      "typeVersion": 1,
      "position": [
        512,
        -1952
      ],
      "id": "caeae6f7-f662-4d42-ba84-c59d7646ae7e",
      "name": "Message a model1",
      "retryOnFail": true,
      "alwaysOutputData": true,
      "credentials": {
        "anthropicApi": {
          "id": "kqg6kHOMmE7OKXB5",
          "name": "Anthropic account"
        }
      },
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "model": "={{ $json.ai_agent.llm}}",
        "messages": {
          "message": [
            {
              "content": "={{$json.prompt}}"
            }
          ]
        },
        "simplify": true,
        "options": {},
        "requestOptions": {}
      },
      "type": "n8n-nodes-base.perplexity",
      "typeVersion": 1,
      "position": [
        544,
        400
      ],
      "id": "1e52c473-1b65-4e04-af25-32a14042013c",
      "name": "Message a model2",
      "retryOnFail": true,
      "alwaysOutputData": true,
      "credentials": {
        "perplexityApi": {
          "id": "uDvFTKBfWrs2w3TQ",
          "name": "Perplexity account"
        }
      },
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "transcript",
              "name": "prompt_response",
              "value": "={{ $json.output ? $json.output : 'no response' }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "5bdda459-0bfc-45e0-8e96-f7a966bd7ec4",
      "name": "Convert Google Response",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1504,
        -1440
      ],
      "alwaysOutputData": true,
      "retryOnFail": true,
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "transcript",
              "name": "prompt_response",
              "value": "={{ $json.message }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "093337c9-e36c-4461-914d-4a4db14999dc",
      "name": "Convert Perplexity Response",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1792,
        112
      ],
      "retryOnFail": true,
      "alwaysOutputData": true,
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "transcript",
              "name": "prompt_response",
              "value": "={{ $json.content.parts[0].text }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "38a30726-c84f-40b6-9b59-794fae52df64",
      "name": "Convert Anthropic Response",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1504,
        -1936
      ],
      "alwaysOutputData": true,
      "retryOnFail": true,
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.playwrightMcpPrompt }} \n{{ $json.prompt }}",
        "options": {
          "maxIterations": 25
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        368,
        -1456
      ],
      "id": "30eaa37d-65c1-4e73-8f10-c7a5a677f84d",
      "name": "AI Agent",
      "alwaysOutputData": false,
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "modelName": "={{ $json.ai_agent.llm }}",
        "options": {
          "maxOutputTokens": 100000
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        256,
        -1280
      ],
      "id": "dc0f0544-8c3c-434b-96d6-430e46b324aa",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "rkVlLAzFlUDQXSQe",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $('When Executed by Another Workflow').item.json.session_id }}"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        240,
        -1024
      ],
      "id": "402b8394-e13d-4ff7-ada6-d5e90037b036",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-5",
          "mode": "list",
          "cachedResultName": "gpt-5"
        },
        "options": {
          "timeout": 60000,
          "maxRetries": 3
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        480,
        -1808
      ],
      "id": "ea1b3909-aedb-4bc1-9fc5-d5cacab86603",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "Lv5pVATUsSXwsT5H",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "transcript",
              "name": "error",
              "value": "={{$json.error}}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "131258d8-909a-4564-9401-0142f1402527",
      "name": "Return error",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1888,
        640
      ],
      "alwaysOutputData": true,
      "retryOnFail": true,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "jsCode": "\nconst contextData = $('When Executed by Another Workflow').item.json;\n  \nreturn {\n    json: {\n      ...contextData,\n      playwrightMcpPrompt: `# Browser Tools - Use ONLY for web tasks\n\nActive when user requests:\n- Navigate/interact with websites\n- Scrape data\n- Fill forms\n- Test UI\n\nOtherwise ignore. Answer normally.\n\n# Tool Mapping\n\nUser says → Tool:\n- \"go to [url]\" → browser_navigate\n- \"open [site]\" → browser_navigate\n- \"find [thing] on [site]\" → browser_navigate + browser_snapshot\n- \"click [thing]\" → browser_click (snapshot first for ref)\n- \"type [text]\" → browser_type (needs ref)\n- \"fill form\" → browser_fill_form\n- \"press enter\" → browser_press_key\n- \"wait\" → browser_wait_for\n- \"screenshot\" → browser_take_screenshot\n- \"what's on page\" → browser_snapshot\n- \"new tab\" → browser_tabs\n\n# Parameter Format - EXACT MATCH REQUIRED\n\nbrowser_snapshot\n{} (EMPTY)\n\nbrowser_navigate\n{\"url\": \"https://example.com\"}\n\nbrowser_click\n{\"element\": \"button description\", \"ref\": \"ref-from-snapshot\"}\n\nbrowser_type\n{\"element\": \"input description\", \"ref\": \"ref-from-snapshot\", \"text\": \"content\", \"submit\": false}\n\nbrowser_fill_form\n{\"fields\": [{\"name\": \"field_name\", \"type\": \"textbox\", \"ref\": \"ref-value\", \"value\": \"input\"}]}\n\nbrowser_press_key\n{\"key\": \"Enter\"}\n\nbrowser_wait_for\n{\"time\": 2} OR {\"text\": \"content\"} OR {\"textGone\": \"content\"}\n\nbrowser_tabs\n{\"action\": \"new\"} OR {\"action\": \"close\", \"index\": 0}\n\nbrowser_take_screenshot\n{\"fullPage\": true}\n\nbrowser_navigate_back\n{}\n\n# Workflow\n\n1. Navigate to URL\n2. Wait: {\"time\": 2}\n3. Snapshot: {}\n4. Use refs from snapshot\n5. Interact\n\n# Rules\n\n- Snapshot first. Get refs.\n- Wait after navigation.\n- Match JSON exactly.\n- No extra parameters.\n- Refs expire. Snapshot before each click.\n- Add https:// to URLs.`\n    }\n}"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -1168,
        -800
      ],
      "id": "3f67be41-591c-40eb-bc4c-bfa73c017ec2",
      "name": "System pormpt"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.playwrightMcpPrompt }} \n{{ $json.prompt }}",
        "options": {
          "maxIterations": 10
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        240,
        -576
      ],
      "id": "cc0f4b91-f7cc-4388-815e-7f433357873d",
      "name": "AI Agent1",
      "alwaysOutputData": false,
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "transcript",
              "name": "prompt_response",
              "value": "={{ $json.output ? $json.output : 'no response' }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "4bbd0f7a-5a65-4854-90d5-682975282ef8",
      "name": "Convert Google Response1",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1520,
        -496
      ],
      "alwaysOutputData": true,
      "retryOnFail": true,
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "model": "=z-ai/glm-4.5-air:free",
        "options": {
          "maxTokens": -1,
          "timeout": 60000
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        128,
        -400
      ],
      "id": "025d4d24-9381-4c6f-9f48-327774cafcf8",
      "name": "OpenRouter",
      "credentials": {
        "openRouterApi": {
          "id": "MemuM6oihKmVDjEr",
          "name": "OpenRouter"
        }
      }
    },
    {
      "parameters": {
        "description": "MUST: Build a tool call for playwirght first and do not call playwright.  Before each playwright tool invocation You must call this tool first with the same input as you going to call playwirght tool later.",
        "jsCode": "return JSON.stringify({ tool: $fromAI('tool', 'selected tool by agent to execute for website navigation. Return browser_snapshot string if missing','string', 'browser_snapshot'),\n        Tool_Parameters: $fromAI('Tool_Parameters', 'parameters object for chosen tool or empty json if missing', 'json', {})\n  \n  })"
      },
      "type": "@n8n/n8n-nodes-langchain.toolCode",
      "typeVersion": 1.3,
      "position": [
        576,
        -1008
      ],
      "id": "217194fe-78eb-4f70-a386-ede0df574a3f",
      "name": "Code Tool"
    },
    {
      "parameters": {
        "descriptionType": "manual",
        "toolDescription": "Use MCP client when user asked to navigate/fill/click or do anything else on some website. This tool returns schema for 'MCP Playwright Execution'",
        "connectionType": "sse"
      },
      "type": "n8n-nodes-mcp.mcpClientTool",
      "typeVersion": 1,
      "position": [
        480,
        -1024
      ],
      "id": "b235b0c3-5d85-4e80-8886-a9eddadde87a",
      "name": "Playwright List tools",
      "credentials": {
        "mcpClientSseApi": {
          "id": "7ItvfSRieOPS1cpz",
          "name": "MCP Playwright (SSE)"
        }
      }
    },
    {
      "parameters": {
        "connectionType": "sse",
        "operation": "executeTool",
        "toolName": "={{$fromAI('tool', 'selected tool by agent to execute for website navigation. Return browser_snapshot string if missing','string', 'browser_snapshot')}}",
        "toolParameters": "={{ $fromAI('Tool_Parameters', 'parameters object for chosen tool or empty json if missing', 'json',{}) }}"
      },
      "type": "n8n-nodes-mcp.mcpClientTool",
      "typeVersion": 1,
      "position": [
        368,
        -1024
      ],
      "id": "d5db4c29-cc0a-4a72-a88e-b3c84d108432",
      "name": "MCP Playwright Execution",
      "credentials": {
        "mcpClientSseApi": {
          "id": "7ItvfSRieOPS1cpz",
          "name": "MCP Playwright (SSE)"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "transcript",
              "name": "error",
              "value": "={{$json.error}}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "9a3b8b9f-0f98-49b5-9750-436626bf06a4",
      "name": "Return error1",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1472,
        -1264
      ],
      "alwaysOutputData": true,
      "retryOnFail": true,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "transcript",
              "name": "error",
              "value": "={{$json.error}}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "8e31226b-6345-4099-946f-464b177e09fd",
      "name": "Return error2",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1536,
        -272
      ],
      "alwaysOutputData": true,
      "retryOnFail": true,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "description": "Call this tool to get many messages from secondary Gmail account. All inputs are optional. You can set any of them to null or empty",
        "workflowId": {
          "__rl": true,
          "value": "uE8OdDvZyVdQloEM",
          "mode": "list",
          "cachedResultUrl": "/workflow/uE8OdDvZyVdQloEM",
          "cachedResultName": "Tool: Gmail Messages Secondary"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "limit": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('limit', ``, 'number') }}",
            "search": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('search', ``, 'string') }}",
            "received_after": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('received_after', ``, 'string') }}",
            "received_before": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('received_before', ``, 'string') }}",
            "regex": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('regex', ``, 'string') }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "search",
              "displayName": "search",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "received_after",
              "displayName": "received_after",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "received_before",
              "displayName": "received_before",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            },
            {
              "id": "limit",
              "displayName": "limit",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "number",
              "removed": false
            },
            {
              "id": "regex",
              "displayName": "regex",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        736,
        -1024
      ],
      "id": "4ece5419-b176-4e50-86b5-6f25c060a787",
      "name": "Secondary Gmail account"
    },
    {
      "parameters": {
        "includeTime": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Include_Current_Time', ``, 'boolean') }}",
        "outputFieldName": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Output_Field_Name', ``, 'string') }}",
        "options": {
          "timezone": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Timezone', ``, 'string') }}"
        }
      },
      "type": "n8n-nodes-base.dateTimeTool",
      "typeVersion": 2,
      "position": [
        912,
        -1008
      ],
      "id": "43aa8f59-6878-4288-b28e-c325023ef443",
      "name": "Date & Time"
    }
  ],
  "connections": {
    "LLM Router": {
      "main": [
        [
          {
            "node": "Message a model1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Message a model2",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "AI Agent1",
            "type": "main",
            "index": 0
          }
        ],
        []
      ]
    },
    "When Executed by Another Workflow": {
      "main": [
        [
          {
            "node": "System pormpt",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Return error",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Message a model2": {
      "main": [
        [
          {
            "node": "Convert Perplexity Response",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Return error",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Convert Google Response": {
      "main": [
        [],
        [
          {
            "node": "Return error",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Convert Perplexity Response": {
      "main": [
        [],
        [
          {
            "node": "Return error",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Message a model1": {
      "main": [
        [
          {
            "node": "Convert Anthropic Response",
            "type": "main",
            "index": 0
          }
        ],
        []
      ]
    },
    "Convert Anthropic Response": {
      "main": [
        [],
        [
          {
            "node": "Return error",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Convert Google Response",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Return error1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent",
            "type": "ai_memory",
            "index": 0
          },
          {
            "node": "AI Agent1",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        []
      ]
    },
    "System pormpt": {
      "main": [
        [
          {
            "node": "LLM Router",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent1": {
      "main": [
        [
          {
            "node": "Convert Google Response1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Return error2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Convert Google Response1": {
      "main": [
        [],
        [
          {
            "node": "Return error",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenRouter": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Code Tool": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          },
          {
            "node": "AI Agent1",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Playwright List tools": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          },
          {
            "node": "AI Agent1",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "MCP Playwright Execution": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          },
          {
            "node": "AI Agent1",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Secondary Gmail account": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          },
          {
            "node": "AI Agent1",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Date & Time": {
      "ai_tool": [
        [
          {
            "node": "AI Agent",
            "type": "ai_tool",
            "index": 0
          },
          {
            "node": "AI Agent1",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1",
    "timezone": "America/Los_Angeles",
    "callerPolicy": "workflowsFromSameOwner"
  },
  "staticData": null,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "pinData": {
    "When Executed by Another Workflow": [
      {
        "json": {
          "ai_agent": {
            "provider": "Google",
            "llm": "models/gemini-2.5-flash"
          },
          "session_id": "123",
          "prompt": "You are using invalid dates format use 2025-01-01 this style. Find all emails in the secondary gmail account from sender auto-confirm@amazon.com (use it in filter) in October 2025  year. Search for specific messages which have starts with subject: \"Ordered: \". Limit to 100 emails. Do use simplify call. Once found parse them to extract all spendings in dollars and return the list of orders and corresponding prices. Also include total which is based on the sum of all spendings."
        }
      }
    ]
  },
  "versionId": "691d1c16-3628-462a-a539-e91e16b0c714",
  "triggerCount": 0,
  "shared": [
    {
      "createdAt": "2025-09-28T21:29:04.986Z",
      "updatedAt": "2025-09-28T21:29:04.986Z",
      "role": "workflow:owner",
      "workflowId": "T6qKwGk8M2wBxWrS",
      "projectId": "6FOle8VEKAMnu05Z",
      "project": {
        "createdAt": "2025-09-24T03:24:51.385Z",
        "updatedAt": "2025-09-24T03:25:40.622Z",
        "id": "6FOle8VEKAMnu05Z",
        "name": "Evgenii Moiseev <jedrus00@gmail.com>",
        "type": "personal",
        "icon": null,
        "description": null,
        "projectRelations": [
          {
            "createdAt": "2025-09-24T03:24:51.385Z",
            "updatedAt": "2025-09-24T03:24:51.385Z",
            "userId": "ecdf55ab-bbff-4828-b9c0-39b049732cab",
            "projectId": "6FOle8VEKAMnu05Z",
            "user": {
              "createdAt": "2025-09-24T03:24:50.933Z",
              "updatedAt": "2025-10-23T22:40:13.948Z",
              "id": "ecdf55ab-bbff-4828-b9c0-39b049732cab",
              "email": "jedrus00@gmail.com",
              "firstName": "Evgenii",
              "lastName": "Moiseev",
              "personalizationAnswers": {
                "version": "v4",
                "personalization_survey_submitted_at": "2025-09-24T03:25:56.788Z",
                "personalization_survey_n8n_version": "1.112.4",
                "companyType": "personal",
                "reportedSource": "youtube"
              },
              "settings": {
                "userActivated": true,
                "easyAIWorkflowOnboarded": true,
                "firstSuccessfulWorkflowId": "XGZy1JaF06FfcLVB",
                "userActivatedAt": 1759095566821,
                "dismissedCallouts": {
                  "preBuiltAgentsModalCallout": true
                },
                "npsSurvey": {
                  "responded": true,
                  "lastShownAt": 1760658269686
                }
              },
              "disabled": false,
              "mfaEnabled": false,
              "lastActiveAt": "2025-10-23",
              "isPending": false
            }
          }
        ]
      }
    }
  ],
  "tags": [
    {
      "createdAt": "2025-09-28T21:30:10.997Z",
      "updatedAt": "2025-09-28T21:30:10.997Z",
      "id": "Hk3xcD25h6h2plM2",
      "name": "sub-workflow"
    },
    {
      "createdAt": "2025-09-28T21:29:00.851Z",
      "updatedAt": "2025-09-28T21:29:00.851Z",
      "id": "veJM4joaFd2Wd7Rp",
      "name": "LLM"
    }
  ]
}
